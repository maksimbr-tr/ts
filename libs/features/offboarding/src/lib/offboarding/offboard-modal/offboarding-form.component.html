<h2>Offboard {{ data.employee.name }}</h2>
<form [formGroup]="offboardingForm" (ngSubmit)="offboard()">
    <mat-form-field appearance="outline">
        <mat-label>Street Line 1</mat-label>
        <input matInput formControlName="streetLine1" required>
        <mat-error *ngIf="offboardingForm.get('streetLine1')?.hasError('required')">
            Street Line 1 is required
        </mat-error>
    </mat-form-field>
    <mat-form-field appearance="outline">
        <mat-label>Country</mat-label>
        <input matInput formControlName="country" required>
        <mat-error *ngIf="offboardingForm.get('country')?.hasError('required')">
            Country is required
        </mat-error>
    </mat-form-field>
    <mat-form-field appearance="outline">
        <mat-label>Postal Code</mat-label>
        <input matInput formControlName="postalCode" required>
        <mat-error *ngIf="offboardingForm.get('postalCode')?.hasError('required')">
            Postal Code is required
        </mat-error>
    </mat-form-field>
    <mat-form-field appearance="outline">
        <mat-label>Receiver</mat-label>
        <input matInput formControlName="receiver" required>
        <mat-error *ngIf="offboardingForm.get('receiver')?.hasError('required')">
            Receiver is required
        </mat-error>
    </mat-form-field>
    <mat-form-field appearance="outline">
        <mat-label>Notes</mat-label>
        <input matInput formControlName="notes">
    </mat-form-field>
    <mat-form-field appearance="outline">
        <mat-label>Phone</mat-label>
        <input matInput formControlName="phone" required>
        <mat-error *ngIf="offboardingForm.get('phone')?.hasError('required')">
            Phone is required
        </mat-error>
    </mat-form-field>
    <mat-form-field appearance="outline">
        <mat-label>Email</mat-label>
        <input matInput formControlName="email" required email>
        @if(offboardingForm.get('email')?.hasError('email')) {
        <mat-error>
            Please enter a valid email address
        </mat-error>
        }
        @if(offboardingForm.get('email')?.hasError('required')) {
        <mat-error>
            Email is required
        </mat-error>
        }

    </mat-form-field>
    <div class="form-actions">
        <button mat-raised-button color="primary" type="submit" [disabled]="offboardingForm.invalid">Offboard</button>
        <button mat-raised-button color="accent" type="button" (click)="dialogRef.close()">Cancel</button>
    </div>
</form>